@model EcoLift.Models.ViewModels.ProfileViewModel
@{
    ViewData["Title"] = "My Profile";
    ViewData["HideFooter"] = true;
}

<div class="profile-page">
    <div class="container">
        <div class="row">
            <!-- Profile Sidebar -->
            <div class="col-lg-4 mb-4">
                <div class="profile-card">
                    <div class="profile-header">
                        <div class="profile-avatar">
                            @if (!string.IsNullOrEmpty(Model.User.ProfilePicture))
                            {
                                <img src="@Model.User.ProfilePicture" alt="Profile Picture" class="avatar-img">
                            }
                            else
                            {
                                <div class="avatar-placeholder">
                                    <i class="fas fa-user"></i>
                                </div>
                            }
                        </div>
                        <h3 class="profile-name">@Model.User.FullName</h3>
                        <p class="profile-member-since">Member since @Model.User.RegistrationDate.ToString("MMMM yyyy")</p>
                    </div>

                    <div class="profile-bio">
                        @if (!string.IsNullOrEmpty(Model.User.Bio))
                        {
                            <p>@Model.User.Bio</p>
                        }
                        else
                        {
                            <p class="text-muted">No bio added yet.</p>
                        }
                    </div>

                    <div class="profile-actions">
                        <a asp-action="EditPersonalDetails" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-edit me-1"></i>Edit Personal Details
                        </a>
                        <a asp-action="EditTravelPreferences" class="btn btn-outline-secondary btn-sm">
                            <i class="fas fa-cog me-1"></i>Travel Preferences
                        </a>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-lg-8">
                <!-- Travel Preferences -->
                @* <div class="content-card mb-4">
                    <div class="card-header">
                        <h4>Travel Preferences</h4>
                        <a asp-action="EditTravelPreferences" class="btn btn-link btn-sm">Edit</a>
                    </div>
                    <div class="card-body">
                        <div class="preferences-grid">
                            <div class="preference-item">
                                <div class="preference-icon">
                                    <i class="fas fa-comments"></i>
                                </div>
                                <div class="preference-content">
                                    <h6>Chattiness</h6>
                                    <span class="preference-value">
                                        @switch (Model.User.ChattinessLevel)
                                        {
                                            case EcoLift.Models.Enums.ChattinessLevel.Quiet:
                                                <span class="badge bg-light text-dark">I'm quiet when I feel comfortable</span>
                                                break;
                                            case EcoLift.Models.Enums.ChattinessLevel.Moderate:
                                                <span class="badge bg-primary">I chat when I feel comfortable</span>
                                                break;
                                            case EcoLift.Models.Enums.ChattinessLevel.Chatty:
                                                <span class="badge bg-success">I'm chatty when I feel comfortable</span>
                                                break;
                                        }
                                    </span>
                                </div>
                            </div>

                            <div class="preference-item">
                                <div class="preference-icon">
                                    <i class="fas fa-music"></i>
                                </div>
                                <div class="preference-content">
                                    <h6>Music</h6>
                                    <span class="preference-value">
                                        @switch (Model.User.MusicPreference)
                                        {
                                            case EcoLift.Models.Enums.MusicPreference.NoMusic:
                                                <span class="badge bg-light text-dark">I prefer silence</span>
                                                break;
                                            case EcoLift.Models.Enums.MusicPreference.Quiet:
                                                <span class="badge bg-info">I like quiet music</span>
                                                break;
                                            case EcoLift.Models.Enums.MusicPreference.Moderate:
                                                <span class="badge bg-primary">I jam depending on the mood</span>
                                                break;
                                            case EcoLift.Models.Enums.MusicPreference.Loud:
                                                <span class="badge bg-warning">I love loud music</span>
                                                break;
                                        }
                                    </span>
                                </div>
                            </div>

                            <div class="preference-item">
                                <div class="preference-icon">
                                    <i class="fas fa-smoking"></i>
                                </div>
                                <div class="preference-content">
                                    <h6>Smoking</h6>
                                    <span class="preference-value">
                                        @switch (Model.User.SmokingPolicy)
                                        {
                                            case EcoLift.Models.Enums.SmokingPolicy.NoSmoking:
                                                <span class="badge bg-success">No smoking</span>
                                                break;
                                            case EcoLift.Models.Enums.SmokingPolicy.SmokingBreaks:
                                                <span class="badge bg-warning">Cigarette breaks outside the car are ok</span>
                                                break;
                                            case EcoLift.Models.Enums.SmokingPolicy.SmokingAllowed:
                                                <span class="badge bg-danger">Smoking allowed</span>
                                                break;
                                        }
                                    </span>
                                </div>
                            </div>

                            <div class="preference-item">
                                <div class="preference-icon">
                                    <i class="fas fa-paw"></i>
                                </div>
                                <div class="preference-content">
                                    <h6>Pets</h6>
                                    <span class="preference-value">
                                        @switch (Model.User.PetPolicy)
                                        {
                                            case EcoLift.Models.Enums.PetPolicy.NoPets:
                                                <span class="badge bg-light text-dark">No pets</span>
                                                break;
                                            case EcoLift.Models.Enums.PetPolicy.SmallPets:
                                                <span class="badge bg-info">Small pets ok</span>
                                                break;
                                            case EcoLift.Models.Enums.PetPolicy.AllPets:
                                                <span class="badge bg-success">I'll travel with pets depending on the animal</span>
                                                break;
                                        }
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> *@

                <!-- Vehicles -->
                <div class="content-card">
                    <div class="card-header">
                        <h4>My Vehicles</h4>
                        <a asp-action="AddVehicle" class="btn btn-primary btn-sm">
                            <i class="fas fa-plus me-1"></i>Add Vehicle
                        </a>
                    </div>
                    <div class="card-body">
                        @if (Model.Vehicles.Any())
                        {
                            <div class="vehicles-grid">
                                @foreach (var vehicle in Model.Vehicles)
                                {
                                    <div class="vehicle-card">
                                        <div class="vehicle-info">
                                            <h6>@vehicle.Brand @vehicle.Model</h6>
                                            <p class="vehicle-details">
                                                <span class="vehicle-color">@vehicle.Color</span>
                                            </p>
                                            <p class="vehicle-plate">@vehicle.LicensePlate</p>
                                        </div>
                                        <div class="vehicle-actions">
                                            <a asp-action="EditVehicle" asp-route-id="@vehicle.VehicleId" class="btn btn-outline-primary btn-sm">
                                                <i class="fas fa-edit"></i>
                                            </a>
                                            <form asp-action="DeleteVehicle" asp-route-id="@vehicle.VehicleId" method="post" class="d-inline" 
                                                  onsubmit="return confirm('Are you sure you want to delete this vehicle?');">
                                                <button type="submit" class="btn btn-outline-danger btn-sm">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                }
                            </div>
                        }
                        else
                        {
                            <div class="empty-state">
                                <i class="fas fa-car fa-3x text-muted mb-3"></i>
                                <h5 class="text-muted">No vehicles added yet</h5>
                               
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<style>
.profile-page {
    padding: 2rem 0;
    background-color: white;
    min-height: 100vh;
}

.profile-card {
    background: white;
    border-radius: 12px;
    padding: 2rem;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    text-align: center;
}

.profile-avatar {
    margin-bottom: 1.5rem;
}

.avatar-img {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
}

.avatar-placeholder {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: #e9ecef;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    color: #6c757d;
}

.profile-name {
    margin: 0 0 0.5rem 0;
    color: #2c3e50;
}

.profile-member-since {
    color: #6c757d;
    margin-bottom: 1.5rem;
}

.profile-bio {
    margin-bottom: 2rem;
    text-align: left;
}

.profile-actions {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.content-card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    overflow: hidden;
  
}

.card-header {
    background: white;
    padding: 1.5rem;
    border-bottom: 1px solid #e9ecef;
    display: flex;
    justify-content: between;
    align-items: center;
}

.card-header h4 {
    margin: 0;
    flex: 1;
}

.card-body {
    padding: 1.5rem;
}

.preferences-grid {
    display: grid;
    gap: 1.5rem;
}

.preference-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
}

.preference-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #e3f2fd;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #1976d2;
    flex-shrink: 0;
}

.preference-content h6 {
    margin: 0 0 0.25rem 0;
    color: #2c3e50;
}

.vehicles-grid {
    display: grid;
    gap: 1rem;
}

.vehicle-card {
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.vehicle-info h6 {
    margin: 0 0 0.25rem 0;
    color: #2c3e50;
}

.vehicle-details {
    margin: 0 0 0.25rem 0;
    color: #6c757d;
    font-size: 0.9rem;
}

.vehicle-plate {
    margin: 0;
    font-weight: 600;
    color: #495057;
    font-family: monospace;
}

.vehicle-actions {
    display: flex;
    gap: 0.5rem;
}

.empty-state {
    text-align: center;
    padding: 3rem 1rem;
}

@@media (max-width: 768px) {
    .profile-page {
        padding: 1rem 0;
    }
    
    .profile-actions {
        flex-direction: column;
    }
    
    .card-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
    }
    
    .vehicle-card {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
    }
    
    .vehicle-actions {
        align-self: flex-end;
    }
}
</style>
